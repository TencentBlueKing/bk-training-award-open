(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{68:function(e,t,a){"use strict";a.r(t);var n=a(89);var r=a(77);for(var s in r)if(s!=="default")(function(e){a.d(t,e,function(){return r[e]})})(s);var c=a(85);var i=a(2);var u=Object(i["a"])(r["default"],n["a"],n["b"],false,null,"72a40f66",null);t["default"]=u.exports},77:function(e,t,a){"use strict";a.r(t);var n=a(78);var r=a.n(n);for(var s in n)if(s!=="default")(function(e){a.d(t,e,function(){return n[e]})})(s);t["default"]=r.a},78:function(e,t,a){"use strict";var n=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=n(a(15));var s=n(a(21));var c=n(a(22));var i={components:{},data:function e(){return{getMsg:"",postMsg:"",deleteMsg:"",longMsg:"",enterMsg1:"",enterMsg2:"",btn1Msg:"",btn2Msg:"",delMsg:"",userInfo:null}},created:function e(){},methods:{fetchPageData:function e(){var t=this;var a=[];a.push(this.$store.dispatch("example/enterExample1",{delay:1e3}));a.push(this.$store.dispatch("example/enterExample2",{delay:1e3}));return Promise.all(a).then(function(e){t.enterMsg1=e[0].data.msg;t.enterMsg2=e[1].data.msg}).catch(function(e){console.error("err",e)})},btn1:function e(){var t=this;return(0,c.default)(s.default.mark(function e(){var a;return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.$store.dispatch("example/btn1",{btn:"btn1",delay:2e3});case 3:a=n.sent;t.btn1Msg=a.data.msg;n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);console.error(n.t0);case 10:case"end":return n.stop()}}},e,null,[[0,7]])}))()},btn2:function e(){var t=this;return(0,c.default)(s.default.mark(function e(){var a;return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.$store.dispatch("example/btn2",{btn:"btn2",delay:2e3},{cancelPrevious:false});case 3:a=n.sent;t.btn2Msg=a.data.msg;n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);console.error(n.t0);case 10:case"end":return n.stop()}}},e,null,[[0,7]])}))()},del:function e(){var t=this;return(0,c.default)(s.default.mark(function e(){var a;return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.$store.dispatch("example/del",{time:+new Date});case 3:a=n.sent;t.delMsg=a.data.msg;n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);console.error(n.t0);case 10:case"end":return n.stop()}}},e,null,[[0,7]])}))()},getUser:function e(){var t=this;return(0,c.default)(s.default.mark(function e(){var a;return s.default.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return t.$store.dispatch("userInfo");case 3:a=n.sent;t.userInfo=(0,r.default)({},a);n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);console.error(n.t0);case 10:case"end":return n.stop()}}},e,null,[[0,7]])}))()}}};t.default=i},79:function(e,t,a){},85:function(e,t,a){"use strict";var n=a(79);var r=a.n(n);var s=r.a},89:function(e,t,a){"use strict";var n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"example3-wrapper"},[a("div",{staticClass:"inner"},[e._m(0),e._v(" "),a("div",{staticClass:"item"},[a("p",[e._v(e._s(e.enterMsg1))]),e._v(" "),a("p",[e._v(e._s(e.enterMsg2))])])]),e._v(" "),a("div",{staticClass:"inner"},[a("div",{staticClass:"item"},[e._m(1),e._v(" "),e._m(2),e._v(" "),a("bk-button",{attrs:{type:"default"},on:{click:e.btn1}},[e._v("btn1（get）")]),e._v(" "),a("bk-button",{attrs:{type:"default"},on:{click:e.btn2}},[e._v("btn2（post）")])],1),e._v(" "),a("div",{staticClass:"item"},[a("p",[e._v(e._s(e.btn1Msg))]),e._v(" "),a("p",[e._v(e._s(e.btn2Msg))])])]),e._v(" "),a("div",{staticClass:"inner"},[a("div",{staticClass:"item"},[a("p",[e._v("演示 delete 请求，如何发送数据")]),e._v(" "),a("bk-button",{attrs:{type:"default"},on:{click:e.del}},[e._v("del")])],1),e._v(" "),a("div",{staticClass:"item"},[a("p",[e._v(e._s(e.delMsg))])])]),e._v(" "),a("div",{staticClass:"inner"},[a("div",{staticClass:"item"},[a("p",[e._v("获取 user 信息")]),e._v(" "),a("bk-button",{attrs:{type:"default"},on:{click:e.getUser}},[e._v("getUser")])],1),e._v(" "),a("div",{staticClass:"item"},[a("p",[e._v(e._s(e.userInfo))])])])])};var r=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"item"},[a("p",[e._v("我是 example3 页面，本页和 example1 页面一样，可以三个 router 切换看看请求情况。以下示例注意打开控制台观察")]),e._v(" "),a("p",[e._v("从其他页面切换到本页面时，本页面会显示 loading，这个 loading 的持续过程包括了所有页面的公共请求(/api/user/)以及本页面自己的抓取数据的请求。")]),e._v(" "),a("p",[e._v("本页面自己的请求为 /app/index?invoke=enterExample1 和 /app/index?invoke=enterExample2，详情参见 src/views/example1/index.vue 文件 fetchPageData 方法。用来模拟进入页面，需要获取数据才能显示页面的情况。")])])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",[e._v("点击下方的 btn1 按钮发送一个 ajax 请求，请求执行时间为 2 秒，多次点击，"),a("b",[e._v("会")]),e._v(" cancel 上一次未返回的请求")])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",[e._v("点击下方的 btn2 按钮发送一个 ajax 请求，请求执行时间为 2 秒，多次点击，"),a("b",[e._v("不会")]),e._v(" cancel 上一次未返回的请求")])}];a.d(t,"a",function(){return n});a.d(t,"b",function(){return r})}}]);